
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="Due to licensing restrictions, StreamSets cannot distribute MapR libraries with Data Collector . As a result, you must perform additional steps to enable the Data Collector machine to connect to MapR. ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="MapR Prerequisites"></meta><meta name="DC.Relation" scheme="URI" content="../Install_Config/Install_Config_title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_jgs_qpg_2v"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>MapR Prerequisites</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--></head>
<body onload="highlightSearchTerm()" class="frmBody" id="concept_jgs_qpg_2v"><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
​
  ga('create', 'UA-53969024-1', 'auto');
  ga('send', 'pageview');
​
</script>
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Install_Config/Install_Config_title.html" title="Installation and Configuration">Installation and Configuration</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Install_Config/Install_Config_title.html" title="Installation and Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Installation and Configuration</span></a></span>  </div></td></tr></tbody></table>

 <h1 class="title topictitle1">MapR Prerequisites</h1>

 <div class="body conbody">
        <p class="p">Due to licensing
            restrictions, StreamSets cannot distribute MapR libraries with <span class="ph">Data
                  Collector</span>.
            As a result, you must perform additional steps to enable the <span class="ph">Data
                  Collector</span>
            machine to connect to MapR.</p>

        <div class="note note"><span class="notetitle">Note:</span> The MapR DB destination and the Hive Streaming destination using the MapR library
            currently only support MapR version 5.1.</div>

        <p class="p">To connect to a MapR cluster, install <span class="ph">Data
                  Collector</span> on
            a node in the cluster or on a client machine. </p>

        <div class="p">To run <span class="ph">Data
                  Collector</span> on
            a client machine - outside the cluster or on your local machine - the MapR client
            package must be installed and configured on the machine. If the MapR client package is
            not installed on the machine, download and install the following files:<ul class="ul" id="concept_jgs_qpg_2v__ul_qcz_x1m_gv">
                <li class="li">MapR client library - Typically named
                        <samp class="ph codeph">mapr-client_&lt;version&gt;.&lt;ext&gt;</samp>.<div class="p">You can download the
                        files for your operating system
                        here:<pre class="pre codeblock"><a class="xref" href="http://package.mapr.com/releases/" target="_blank">http://package.mapr.com/releases/</a>&lt;version&gt;/</pre>
</div>
</li>

                <li class="li">Kafka client library - Typically named
                        <samp class="ph codeph">mapr-kafka-&lt;version&gt;.&lt;ext&gt;</samp>. <div class="p">You can download the
                        files for your operating system here:
                        <pre class="pre codeblock"><a class="xref" href="http://package.mapr.com/releases/" target="_blank">http://package.mapr.com/releases/</a>ecosystem-&lt;version&gt;/</pre>
</div>
</li>

            </ul>
</div>

        <p class="p">Before using <span class="ph">Data
                  Collector</span> to
            connect to a MapR cluster, perform the following steps:</p>

        <ol class="ol" id="concept_jgs_qpg_2v__ol_ghq_zrg_2v">
            <li class="li">In the <span class="ph">Data
                  Collector</span> configuration file, <samp class="ph codeph">$SDC_CONF/sdc.properties</samp>, remove the MapR
                stage library that you want to use from the
                    <span class="ph uicontrol">system.stagelibs.blacklist</span> property.<div class="p">For example, the
                        <span class="ph uicontrol">system.stagelibs.blacklist</span> property is defined as
                    follows:<pre class="pre codeblock">system.stagelibs.blacklist=streamsets-datacollector-mapr_5_0-lib,streamsets-datacollector-mapr_5_1-lib</pre>
</div>
<div class="p">To
                    use the MapR version 5.1, remove the version 5.1 stage library from the property
                    as
                    follows:<pre class="pre codeblock">system.stagelibs.blacklist=streamsets-datacollector-mapr_5_0-lib</pre>
</div>
<div class="note warning"><span class="warningtitle">Warning:</span> You can use only one version of the MapR library at a time.
                </div>
</li>

            <li class="li">Create the following symlinks:<ul class="ul" id="concept_jgs_qpg_2v__ul_yhl_bsg_2v">
                    <li class="li"><span class="ph uicontrol">$MAPR_HOME/lib/*</span> to
                            <span class="ph uicontrol">$SDC_DIST/streamsets-libs/&lt;MapR
                        library&gt;/lib/</span></li>

                    <li class="li"><span class="ph uicontrol">$MAPR_HOME/hbase/hbase-&lt;version&gt;/lib/*</span> to
                            <span class="ph uicontrol">$SDC_DIST/streamsets-libs/&lt;MapR
                        library&gt;/lib/</span></li>

                    <li class="li"><span class="ph uicontrol">$MAPR_HOME/hive/hive-&lt;version&gt;/lib/*</span> to
                            <span class="ph uicontrol">$SDC_DIST/streamsets-libs/&lt;MapR
                        library&gt;/lib/</span></li>

                    <li class="li"><span class="ph uicontrol">$MAPR_HOME/hive/hive-&lt;version&gt;/hcatalog/share/hcatalog/*
                        </span> to <span class="ph uicontrol">$SDC_DIST/streamsets-libs/&lt;MapR
                            library&gt;/lib/</span></li>

                    <li class="li">
                        <span class="ph uicontrol">$MAPR_HOME/lib/maprfs-&lt;version&gt;-mapr.jar</span> to
                            <span class="ph uicontrol">$SDC_DIST/root-lib/</span></li>

                </ul>
<p class="p">$MAPR_HOME is usually /opt/mapr. </p>
<p class="p">&lt;MapR library&gt; is the version of
                    the StreamSets MapR library to use. The StreamSets MapR libraries are named as
                    follows: streamsets-datacollector-mapr_&lt;version&gt;-lib. For example:
                    streamsets-datacollector-mapr_5_1-lib. </p>
<p class="p">&lt;version&gt; is the HBase, Hive,
                    or MapR version.</p>
<div class="p">So to use MapR version 5.1, HBase version 1.1.1, and Hive
                    version 1.2 with <span class="ph">Data
                  Collector</span>, you would create the following
                    symlinks:<pre class="pre codeblock">ln -s $MAPR_HOME/lib/* $SDC_DIST/streamsets-libs/streamsets-datacollector-mapr_5_1-lib/lib/
ln -s $MAPR_HOME/hbase/hbase-1.1.1/lib/* $SDC_DIST/streamsets-libs/streamsets-datacollector-mapr_5_1-lib/lib/
ln -s $MAPR_HOME/hive/hive-1.2/lib/* $SDC_DIST/streamsets-libs/streamsets-datacollector-mapr_5_1-lib/lib/
ln -s $MAPR_HOME/hive/hive-1.2/hcatalog/share/hcatalog/* $SDC_DIST/streamsets-libs/streamsets-datacollector-mapr_5_1-lib/lib/
ln -s $MAPR_HOME/lib/maprfs-5.1.0-mapr.jar $SDC_DIST/root-lib/</pre>
</div>
</li>

            <li class="li">In the <span class="ph">Data
                  Collector</span> security policy file, <samp class="ph codeph">$SDC_CONF/sdc-security.policy</samp>, add a new
                permissions block for $MAPR_HOME as follows:
                    <pre class="pre codeblock">// MapR home directory
grant codebase "file://&lt;MapR home directory&gt;-" {
    permission java.security.AllPermission;
};</pre>
<div class="p">For
                    example:
                    <pre class="pre codeblock">grant codebase "file:///opt/mapr/-" {
  permission java.security.AllPermission;
};</pre>
</div>
</li>

            <li class="li">Restart <span class="ph">Data
                  Collector</span> and verify that you can see the MapR origins and destinations in the stage
                library.</li>

        </ol>

 </div>

<div class="related-links"></div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Install_Config/Install_Config_title.html" title="Installation and Configuration"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Installation and Configuration</span></a></span>  </div>
</body>
</html>
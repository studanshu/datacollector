
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="The MongoDB origin reads data from MongoDB. The Data Collector generates a record for every MongoDB document. The MongoDB origin reads from capped and uncapped collections. When you configure MongoDB, ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="copyright" content="(C) Copyright 2005"></meta><meta name="DC.rights.owner" content="(C) Copyright 2005"></meta><meta name="DC.Type" content="concept"></meta><meta name="DC.Title" content="MongoDB"></meta><meta name="abstract" content="The MongoDB origin reads data from MongoDB. The Data Collector generates a record for every MongoDB document."></meta><meta name="description" content="The MongoDB origin reads data from MongoDB. The Data Collector generates a record for every MongoDB document."></meta><meta name="DC.Relation" scheme="URI" content="../Origins/Origins_title.html"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="concept_bk4_2rs_ns"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>MongoDB</title><!--  Generated with Oxygen version 17.1, build number 2016020417.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/skins/skin.css"><!----></link><link rel="stylesheet" type="text/css" href="../skin.css"></link><script type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script><!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
--></head>
<body onload="highlightSearchTerm()" class="frmBody"><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
​
  ga('create', 'UA-53969024-1', 'auto');
  ga('send', 'pageview');
​
</script>
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../Origins/Origins_title.html" title="Origins">Origins</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../Origins/Origins_title.html" title="Origins"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Origins</span></a></span>  </div></td></tr></tbody></table>
<div class="nested0" id="concept_bk4_2rs_ns">
 <h1 class="title topictitle1">MongoDB</h1>

 
 <div class="body conbody"><p class="shortdesc">The MongoDB origin reads data from MongoDB. The <span class="ph">Data
                  Collector</span> generates a
  record for every MongoDB document.</p>

  <p class="p">The MongoDB origin reads from capped and uncapped collections. When you configure MongoDB, you
   define the offset field, start timestamp, and the collection type. These properties determine how
   the <span class="ph">Data
                  Collector</span> queries
   the database.</p>

 </div>

<div class="related-links"></div>
<div class="topic concept nested1" id="concept_kx3_zrs_ns">
 <h2 class="title topictitle2">Offset Field</h2>

 
 <div class="body conbody"><p class="shortdesc">MongoDB uses the offset field to track the data to read. By default, the MongoDB origin
  uses the _id field as the offset field. </p>

  <p class="p">You can use any Object
   ID field as the offset field, but the results for other fields are not guaranteed. </p>

  <p class="p">Object ID fields include an embedded timestamp. The origin uses the embedded timestamp to
      determine where in the collection to begin reading based on the start timestamp that you
      provide. </p>

 </div>

</div>
<div class="topic concept nested1" id="concept_oy2_1dt_ns">
 <h2 class="title topictitle2">Read Preference</h2>

 
 <div class="body conbody"><p class="shortdesc">You can configure the read preference that the MongoDB origin uses. The read preference
  determines how the origin reads data from different members of the MongoDB replica set. </p>

  <div class="p">You can use the
   following MongoDB read preferences:<ul class="ul" id="concept_oy2_1dt_ns__ul_uh2_13t_ns">
    <li class="li">Primary - Requires reading from the primary member.</li>

    <li class="li">Primary Preferred - Prefers reading from the primary, but allows reads from a secondary
     member.</li>

    <li class="li">Secondary - Requires reading from a secondary member.</li>

    <li class="li">Secondary Preferred - Prefers reading from a secondary, but allows reads from a primary when
     necessary.</li>

    <li class="li">Nearest - Reads from the member with the least network latency. </li>

   </ul>
By default, the origin uses Secondary Preferred to avoid making unnecessary requests to the
   primary member.</div>

 </div>

</div>
<div class="topic task nested1" id="task_mdf_2rs_ns">
    <h2 class="title topictitle2">Configuring a MongoDB Origin</h2>

    <div class="body taskbody">
        <div class="section context">
            <p class="p">Configure a
                MongoDB origin to read data from MongoDB.</p>

        </div>

        <ol class="ol steps" id="task_mdf_2rs_ns__steps_kg4_jws_ns"><li class="li step stepexpand">
                <span class="ph cmd">In the Properties panel, on the <span class="keyword wintitle">General</span> tab, configure the
                    following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_mdf_2rs_ns__d10719e331" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="22.22222222222222%" id="d112197e144">General Property</th>

                                    <th class="entry" valign="top" width="77.77777777777779%" id="d112197e147">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="22.22222222222222%" headers="d112197e144 ">Name</td>

                                    <td class="entry" valign="top" width="77.77777777777779%" headers="d112197e147 ">Stage name.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="22.22222222222222%" headers="d112197e144 ">Description</td>

                                    <td class="entry" valign="top" width="77.77777777777779%" headers="d112197e147 ">Optional description.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="22.22222222222222%" headers="d112197e144 ">On Record Error <a class="xref" href="../Pipeline_Design/ErrorHandling.html#concept_atr_j4y_5r" title="Most stages include error record handling options. When an error occurs when processing a record, Data Collector processes records based on the On Record Error property for the stage.">
                                            <img class="image" id="task_mdf_2rs_ns__d10719e377" src="../Reusable_Content/../Graphics/icon_moreInfo.png" height="12" width="12"></img></a></td>

                                    <td class="entry" valign="top" width="77.77777777777779%" headers="d112197e147 ">Error record handling for the stage: <ul class="ul" id="task_mdf_2rs_ns__d10719e381">
                                            <li class="li">Discard - Discards the record.</li>

                                            <li class="li">Send to Error - Sends the record to the pipeline for
                                                error handling.</li>

                                            <li class="li">Stop Pipeline - Stops the pipeline. </li>

                                        </ul>
</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">On the <span class="keyword wintitle">MongoDB</span> tab, configure the following
                    properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_mdf_2rs_ns__table_mh4_bxs_ns" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="33.33333333333333%" id="d112197e229">MongoDB Property</th>

                                    <th class="entry" valign="top" width="66.66666666666666%" id="d112197e232">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Connection String</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">Connection string for the MongoDB instance.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Database</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">Name of the MongoDB database.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Collection</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">Name of the MongoDB collection to use.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Capped Collection</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">The collection is capped. Clear this option to read an
                                        uncapped collection.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Start Timestamp</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">Timestamp to begin reading data based on the timestamp in
                                        the offset field. Use the following format:
                                            <samp class="ph codeph">YYYY-MM-DD hh:mm:ss</samp>.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Offset Field <a class="xref" href="MongoDB.html#concept_kx3_zrs_ns" title="MongoDB uses the offset field to track the data to read. By default, the MongoDB origin uses the _id field as the offset field.">
                                            <img class="image" id="task_mdf_2rs_ns__image_k2w_rsd_3t" src="../Graphics/icon_moreInfo.png" height="12" width="12"></img></a>
                                    </td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">Field to use to track reads. Default is the _id field.
                                        You can use any Object ID field, but results are not
                                        guaranteed.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Batch Size (records)</td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">Maximum number of records allowed in a batch.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="33.33333333333333%" headers="d112197e229 ">Max Batch Wait Time <a class="xref" href="Origins_overview.html#concept_ypd_vgr_5q" title="For origin stages, the batch size determines the maximum number of records sent through the pipeline at one time. The batch wait time determines the time that the origin waits for data before sending a batch. At the end of the wait time, it sends the batch regardless of how many records the batch contains.">
                                            <img class="image" id="task_mdf_2rs_ns__image_mwv_b52_zq" src="../Graphics/icon_moreInfo.png" height="12" width="12"></img></a>
                                    </td>

                                    <td class="entry" valign="top" width="66.66666666666666%" headers="d112197e232 ">Amount of time the origin will wait to fill a batch
                                        before sending an empty batch. </td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">To use credentials, click the <span class="ph uicontrol">Credentials</span> tab and
                    configure the following properties:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_mdf_2rs_ns__table_bdl_csd_3t" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="30%" id="d112197e358">Credentials</th>

                                    <th class="entry" valign="top" width="70%" id="d112197e361">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d112197e358 ">Authentication Type</td>

                                    <td class="entry" valign="top" width="70%" headers="d112197e361 ">Authentication to use. To use authentication, select
                                        Username/Password.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d112197e358 ">Username</td>

                                    <td class="entry" valign="top" width="70%" headers="d112197e361 ">MongoDB user name.</td>

                                </tr>

                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d112197e358 ">Password</td>

                                    <td class="entry" valign="top" width="70%" headers="d112197e361 ">MongoDB password.</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
<li class="li step stepexpand">
                <span class="ph cmd">Optionally, click the <span class="ph uicontrol">Advanced</span> tab to configure the read
                    preference:</span>
                <div class="itemgroup info">
                    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="task_mdf_2rs_ns__table_xwz_jsd_3t" class="table" frame="border" border="1" rules="all">
                            
                            
                            <thead class="thead" align="left">
                                <tr class="row">
                                    <th class="entry" valign="top" width="30%" id="d112197e422">Advanced Property</th>

                                    <th class="entry" valign="top" width="70%" id="d112197e425">Description</th>

                                </tr>

                            </thead>

                            <tbody class="tbody">
                                <tr class="row">
                                    <td class="entry" valign="top" width="30%" headers="d112197e422 ">Read Preference <a class="xref" href="MongoDB.html#concept_oy2_1dt_ns" title="You can configure the read preference that the MongoDB origin uses. The read preference determines how the origin reads data from different members of the MongoDB replica set.">
                                            <img class="image" id="task_mdf_2rs_ns__image_egw_psd_3t" src="../Graphics/icon_moreInfo.png" height="12" width="12"></img></a>
                                    </td>

                                    <td class="entry" valign="top" width="70%" headers="d112197e425 ">Determines how the origin reads data from different
                                        members of the MongoDB replica set.</td>

                                </tr>

                            </tbody>

                        </table>
</div>

                </div>
            </li>
</ol>

    </div>

</div>
</div>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../Origins/Origins_title.html" title="Origins"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Origins</span></a></span>  </div>
</body>
</html>